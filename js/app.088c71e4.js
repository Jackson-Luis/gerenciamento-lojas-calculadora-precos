(function(){"use strict";var e={3043:function(e,a,l){var o=l(5130),n=(l(4114),l(6768)),t=l(144),u=l(4232),i=l(8903);async function r(e,a={}){const l=localStorage.getItem("token"),o={...a.headers||{}};return l&&"homolog-token"!==l&&(o["Authorization"]="Bearer "+l),fetch(e,{...a,headers:o})}function s(){const e=localStorage.getItem("user");if(!e)return null;try{return JSON.parse(e)}catch{return null}}const c="http://localhost:3001",d={key:0,class:"alert alert-danger py-1 text-center",role:"alert"},m={class:"mb-3"},v={class:"mb-3"};var p=(0,n.pM)({__name:"ModalSenha",props:{modelValue:{type:Boolean}},emits:["update:modelValue","success"],setup(e,{emit:a}){const l=e,s=a,p=(0,t.KR)(l.modelValue),k=(0,t.KR)(!1),b=(0,t.KR)(""),f=(0,t.Kh)({novaSenha:"",repeteSenha:""});function _(){f.novaSenha="",f.repeteSenha="",b.value=""}async function h(){if(b.value="",f.novaSenha!==f.repeteSenha)return b.value="As senhas não coincidem",!1;if(f.novaSenha.length<6)return b.value="A senha deve ter pelo menos 6 caracteres",!1;try{k.value=!0,await r(`${c}/alterar-senha`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({novaSenha:f.novaSenha})}),s("success")}catch{return b.value="Erro ao alterar a senha",!1}finally{k.value=!1}}return(0,n.wB)((()=>l.modelValue),(e=>p.value=e)),(0,n.wB)((()=>p.value),(e=>s("update:modelValue",e))),(0,n.wB)(p,(e=>e&&_())),(e,a)=>((0,n.uX)(),(0,n.Wv)((0,t.R1)(i.RB),{modelValue:p.value,"onUpdate:modelValue":a[2]||(a[2]=e=>p.value=e),title:"Alterar senha","ok-title":"Salvar","cancel-title":"Cancelar",onOk:h,"ok-disabled":k.value},{default:(0,n.k6)((()=>[b.value?((0,n.uX)(),(0,n.CE)("div",d,(0,u.v_)(b.value),1)):(0,n.Q3)("",!0),a[5]||(a[5]=(0,n.eW)(" OBS: *Função Incompleta* ")),(0,n.Lk)("form",{onSubmit:(0,o.D$)(h,["prevent"])},[(0,n.Lk)("div",m,[a[3]||(a[3]=(0,n.Lk)("label",{class:"form-label"},"Nova senha",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>f.novaSenha=e),type:"password",class:"form-control",autocomplete:"new-password",required:""},null,512),[[o.Jo,f.novaSenha]])]),(0,n.Lk)("div",v,[a[4]||(a[4]=(0,n.Lk)("label",{class:"form-label"},"Repetir nova senha",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>f.repeteSenha=e),type:"password",class:"form-control",autocomplete:"new-password",required:""},null,512),[[o.Jo,f.repeteSenha]])])],32)])),_:1,__:[5]},8,["modelValue","ok-disabled"]))}});const k=p;var b=k;function f(){const e=(0,t.KR)(""),a=(0,t.KR)("info");function l(l,o="info"){e.value=l,a.value=o,setTimeout((()=>{e.value=""}),2500)}return{toastMsg:e,toastType:a,showToast:l}}var _=(0,n.pM)({__name:"NavBar",props:{corAtual:{}},emits:["update:corAtual"],setup(e,{emit:a}){const l=e,o=a,r=(0,t.KR)(!1),c=(0,t.KR)(!1),{showToast:d}=f(),m=(0,n.EW)((()=>s())),v=(0,n.EW)((()=>!!m.value?.cargo_superior));function p(){o("update:corAtual","dark"===l.corAtual?"light":"dark")}function k(){c.value=!0}function _(){localStorage.removeItem("token"),localStorage.removeItem("user")}return(e,a)=>((0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bo)(((0,n.uX)(),(0,n.Wv)((0,t.R1)(i.x7),{toggleable:"lg",variant:"info-subtle"},{default:(0,n.k6)((()=>[(0,n.bF)((0,t.R1)(i.BN),{onClick:a[0]||(a[0]=e=>r.value=!r.value),target:"nav-collapse"}),(0,n.bF)((0,t.R1)(i.Kj),{id:"nav-collapse","is-nav":"",visible:r.value},{default:(0,n.k6)((()=>[(0,n.bF)((0,t.R1)(i.sl),{class:"w-100 justify-content-around"},{default:(0,n.k6)((()=>[v.value?((0,n.uX)(),(0,n.Wv)((0,t.R1)(i.Hh),{key:0,to:"/cadastro-funcionario",tag:"router-link"},{default:(0,n.k6)((()=>a[3]||(a[3]=[(0,n.eW)("Funcionários")]))),_:1,__:[3]})):(0,n.Q3)("",!0),v.value?((0,n.uX)(),(0,n.Wv)((0,t.R1)(i.Hh),{key:1,to:"/cadastro-cliente",tag:"router-link"},{default:(0,n.k6)((()=>a[4]||(a[4]=[(0,n.eW)("Clientes")]))),_:1,__:[4]})):(0,n.Q3)("",!0),v.value?((0,n.uX)(),(0,n.Wv)((0,t.R1)(i.Hh),{key:2,to:"/cadastro-loja",tag:"router-link"},{default:(0,n.k6)((()=>a[5]||(a[5]=[(0,n.eW)("Lojas")]))),_:1,__:[5]})):(0,n.Q3)("",!0),(0,n.bF)((0,t.R1)(i.Hh),{to:"/relatorio",tag:"router-link"},{default:(0,n.k6)((()=>a[6]||(a[6]=[(0,n.eW)("Relatório")]))),_:1,__:[6]}),(0,n.bF)((0,t.R1)(i.Hh),{to:"/calculadora",tag:"router-link"},{default:(0,n.k6)((()=>a[7]||(a[7]=[(0,n.eW)("Calculadora")]))),_:1,__:[7]}),(0,n.bF)((0,t.R1)(i.Hh),{onClick:p,href:"javascript:void(0)"},{default:(0,n.k6)((()=>[(0,n.eW)(" Modo "+(0,u.v_)("dark"==e.corAtual?"Escuro":"Claro"),1)])),_:1}),(0,n.bF)((0,t.R1)(i.st),null,{"button-content":(0,n.k6)((()=>a[8]||(a[8]=[(0,n.Lk)("em",null,"Config",-1)]))),default:(0,n.k6)((()=>[(0,n.bF)((0,t.R1)(i.H_),{onClick:k},{default:(0,n.k6)((()=>a[9]||(a[9]=[(0,n.eW)("Alterar senha")]))),_:1,__:[9]}),(0,n.bF)((0,t.R1)(i.H_),{tag:"router-link",to:"/login",onClick:_},{default:(0,n.k6)((()=>a[10]||(a[10]=[(0,n.eW)("Sair")]))),_:1,__:[10]})])),_:1})])),_:1})])),_:1},8,["visible"])])),_:1})),[[(0,t.R1)(i.tB),e.corAtual]]),(0,n.bF)(b,{modelValue:c.value,"onUpdate:modelValue":a[1]||(a[1]=e=>c.value=e),onSuccess:a[2]||(a[2]=a=>e.showToast("Senha alterada com sucesso!","success"))},null,8,["modelValue"])],64))}});const h=_;var g=h,L=l(1387);const y={key:0},R={key:1},C={key:0},w={class:"d-flex align-items-center justify-content-center",style:{width:"100%"}};var V=(0,n.pM)({__name:"App",setup(e){const a=(0,t.KR)("dark");function l(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function o(){const e=localStorage.getItem("corAtual");a.value="light"===e||"dark"===e?e:l()}function u(e){a.value=e,localStorage.setItem("corAtual",e)}const r=(0,L.rd)(),s=(0,L.lq)(),c=(0,n.EW)((()=>"LoginPage"===s.name||"/login"===s.path||"/calculadora-deslogada"===s.path));function d(){r.push({name:"login"})}return(0,n.sV)((()=>{o(),console.log(c),console.log(s.path)})),(e,l)=>{const o=(0,n.g2)("router-view");return c.value?((0,n.uX)(),(0,n.CE)("div",R,[(0,n.bo)(((0,n.uX)(),(0,n.Wv)((0,t.R1)(i.vm),{class:"border-0 rounded-0 min-vh-100 min-vw-100"},{default:(0,n.k6)((()=>[(0,n.bF)(o),"/calculadora-deslogada"===(0,t.R1)(s).path?((0,n.uX)(),(0,n.CE)("div",C,[l[1]||(l[1]=(0,n.Lk)("br",null,null,-1)),(0,n.Lk)("div",w,[(0,n.bF)((0,t.R1)(i.PF),{onClick:d,style:{width:"200px"},variant:"info"},{default:(0,n.k6)((()=>l[0]||(l[0]=[(0,n.eW)("Acessar Login")]))),_:1,__:[0]})])])):(0,n.Q3)("",!0)])),_:1})),[[(0,t.R1)(i.tB),a.value]])])):((0,n.uX)(),(0,n.CE)("div",y,[(0,n.bF)(g,{corAtual:a.value,"onUpdate:corAtual":u},null,8,["corAtual"]),(0,n.bo)(((0,n.uX)(),(0,n.Wv)((0,t.R1)(i.vm),{class:"border-0 rounded-0 min-vh-100 min-vw-100"},{default:(0,n.k6)((()=>[(0,n.bF)(o)])),_:1})),[[(0,t.R1)(i.tB),a.value]])]))}}});const F=V;var E=F,x=l(4458);(0,x.k)("/gerenciamento-lojas-calculadora-precos/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});l(8111),l(2489),l(7588);var S=l(788),j=l(7093),W=l.n(j);const $={class:"inicio"},U={key:0},X={key:1},K=["onUpdate:modelValue","onBlur"],T=["onUpdate:modelValue","onBlur"],z=["onUpdate:modelValue","onBlur"],A=["onUpdate:modelValue","onBlur"],J=["onUpdate:modelValue","onBlur"],B=["onUpdate:modelValue","onBlur"];var O=(0,n.pM)({__name:"RelatorioView",setup(e){const a=[{key:"funcionario_nome",label:"Funcionário"},{key:"cliente_nome",label:"Cliente"},{key:"nome",label:"Loja"},"anuncios_total","anuncios_realizados","anuncios_otimizados","visitas_semana","produto_mais_visitado","vendas_total"],l=(0,t.KR)([]),d=(0,t.KR)(!0);async function m(){d.value=!0;try{const e=localStorage.getItem("token");if("homolog-token"===e)return l.value=[],void(d.value=!1);const a=s();let o=`${c}/lojas`;a&&a.id&&0!==a.id&&(o+=`?funcionario_id=${a.id}`);const n=await r(o);let t=await n.json();a&&a.id&&0!==a.id&&(t=t.filter((e=>e.funcionario_id===a.id))),l.value=t}finally{d.value=!1}}async function v(e){const a=localStorage.getItem("token");"homolog-token"!==a&&await r(`${c}/lojas/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}function p(){try{const e=new(W().Workbook),a=e.addWorksheet("Relatório"),o=["Nome do cliente","Nome da loja","Quantos anuncios\nno total na loja","Quantos anuncios\nfeitos na semana","Quantos anuncios\notimizados na semana","Quantas visitas\nesta tendo na loja na semana","Qual produto é\nmais visitado no total","Quantas vendas\naté hoje no total"];a.addRow(o),l.value.forEach((e=>{a.addRow([e.cliente_nome,e.nome,e.anuncios_total,e.anuncios_realizados,e.anuncios_otimizados,e.visitas_semana,e.produto_mais_visitado,e.vendas_total])})),a.getRow(1).height=40,a.columns=[{width:20},{width:20},{width:25},{width:28},{width:30},{width:35},{width:35},{width:28}],a.getRow(1).eachCell((e=>{e.alignment={vertical:"middle",horizontal:"center",wrapText:!0},e.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFF4B084"}},e.font={bold:!0}})),e.xlsx.writeBuffer().then((e=>{const a=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),l=`relatorio-${(new Date).toISOString().slice(0,10)}.xlsx`;(0,S.saveAs)(a,l)}))}catch(e){alert("Erro ao exportar relatório."),console.error(e)}}return(0,n.sV)(m),(e,r)=>((0,n.uX)(),(0,n.CE)("div",$,[r[0]||(r[0]=(0,n.Lk)("h2",null,"Relatório de Lojas",-1)),(0,n.Lk)("div",{class:"mb-3"},[(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:p},"Exportar relatório Excel preenchido")]),d.value?((0,n.uX)(),(0,n.CE)("div",U,"Carregando...")):((0,n.uX)(),(0,n.CE)("div",X,[l.value.length?((0,n.uX)(),(0,n.Wv)((0,t.R1)(i.Bt),{key:0,bordered:!0,outlined:!0,hover:!0,fixed:!0,items:l.value,fields:a},{"cell(funcionario_nome)":(0,n.k6)((({item:e})=>[(0,n.eW)((0,u.v_)(e.funcionario_nome),1)])),"cell(cliente_nome)":(0,n.k6)((({item:e})=>[(0,n.eW)((0,u.v_)(e.cliente_nome),1)])),"cell(nome)":(0,n.k6)((({item:e})=>[(0,n.eW)((0,u.v_)(e.nome),1)])),"cell(anuncios_total)":(0,n.k6)((({item:e})=>[(0,n.bo)((0,n.Lk)("input",{type:"number",min:"0","onUpdate:modelValue":a=>e.anuncios_total=a,onBlur:a=>v(e),class:"form-control form-control-sm"},null,40,K),[[o.Jo,e.anuncios_total,void 0,{number:!0}]])])),"cell(anuncios_realizados)":(0,n.k6)((({item:e})=>[(0,n.bo)((0,n.Lk)("input",{type:"number",min:"0","onUpdate:modelValue":a=>e.anuncios_realizados=a,onBlur:a=>v(e),class:"form-control form-control-sm"},null,40,T),[[o.Jo,e.anuncios_realizados,void 0,{number:!0}]])])),"cell(anuncios_otimizados)":(0,n.k6)((({item:e})=>[(0,n.bo)((0,n.Lk)("input",{type:"number",min:"0","onUpdate:modelValue":a=>e.anuncios_otimizados=a,onBlur:a=>v(e),class:"form-control form-control-sm"},null,40,z),[[o.Jo,e.anuncios_otimizados,void 0,{number:!0}]])])),"cell(visitas_semana)":(0,n.k6)((({item:e})=>[(0,n.bo)((0,n.Lk)("input",{type:"number",min:"0","onUpdate:modelValue":a=>e.visitas_semana=a,onBlur:a=>v(e),class:"form-control form-control-sm"},null,40,A),[[o.Jo,e.visitas_semana,void 0,{number:!0}]])])),"cell(produto_mais_visitado)":(0,n.k6)((({item:e})=>[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":a=>e.produto_mais_visitado=a,onBlur:a=>v(e),class:"form-control form-control-sm"},null,40,J),[[o.Jo,e.produto_mais_visitado]])])),"cell(vendas_total)":(0,n.k6)((({item:e})=>[(0,n.bo)((0,n.Lk)("input",{type:"number",min:"0","onUpdate:modelValue":a=>e.vendas_total=a,onBlur:a=>v(e),class:"form-control form-control-sm"},null,40,B),[[o.Jo,e.vendas_total,void 0,{number:!0}]])])),_:1},8,["items"])):(0,n.Q3)("",!0)]))]))}});const N=O;var I=N;l(1701);const P={class:"calculadora-view"},M={class:"mt-4"},Q={class:"d-flex align-items-center justify-content-between"},q={key:0},D={key:0,class:"float-end"},H={class:"d-flex align-items-center justify-content-between"},G={key:0},Y={key:0,class:"float-end"};var Z=(0,n.pM)({__name:"CalculadoraView",setup(e){const a=(0,t.KR)(""),l=(0,t.KR)(""),o=(0,t.KR)(""),r=(0,n.EW)((()=>{const e=Number(a.value),l=Number(o.value);if(!e||!l)return"";let n=e;2.5===c.value&&n<=10&&(n+=2.5);const t=n+4,u=1.2*t,i=u+3,r=1.02*i,s=r*(l/100),d=r+s;return console.log("Custo com frete:",t),console.log("Custo com taxa:",u),console.log("Custo com transição:",i),console.log("Custo com adicional:",r),{total:d.toFixed(2).replace(".",","),lucro:s.toFixed(2).replace(".",",")}})),s=(0,n.EW)((()=>{const e=Number(a.value),o=Number(l.value);if(!e||!o)return"";let n=e;2.5===c.value&&n<=10&&(n+=2.5);const t=.15*n,u=n+t,i=o/100*u;let r=u+i>=30?8:4.5;const s=u+i+r;return{total:s.toFixed(2).replace(".",","),lucro:i.toFixed(2).replace(".",",")}})),c=(0,t.KR)(0),d=[{item:0,name:"Selecione esse caso não haja taxa"},{item:2.5,name:"Jonh Variedades Drop"}],m=[5,10,15,20,25];function v(e){e&&navigator.clipboard.writeText(e)}function p(e,a,l,o){let n=e;const t=a*n;let u=n+t;return l.map((e=>{const a=e/100*u;let l=u+a;return o&&(l+=o(l)),{lucro:a.toFixed(2).replace(".",","),total:l.toFixed(2).replace(".",",")}}))}function k(e,a,l,o,n,t){return l.map((l=>{const u=e+o,i=u*(1+a/100),r=i+n,s=r*(1+t/100),c=s*(l/100),d=s+c;return{lucro:c.toFixed(2).replace(".",","),total:d.toFixed(2).replace(".",",")}}))}const b=(0,n.EW)((()=>{if(!a.value)return[null,null,null,null,null];let e=Number(a.value);return 2.5===c.value&&e<=10&&(e+=2.5),k(e,20,m,4,3,2)})),f=(0,n.EW)((()=>{if(!a.value)return[null,null,null,null,null];let e=Number(a.value);return 2.5===c.value&&e<=10&&(e+=2.5),p(e,.15,m,(e=>e>=30?8:4.5))}));return(e,p)=>{const k=(0,n.gN)("b-color-mode");return(0,n.uX)(),(0,n.CE)("div",P,[(0,n.bF)((0,t.R1)(i.Yo),{prepend:"R$"},{default:(0,n.k6)((()=>[(0,n.bF)((0,t.R1)(i.bL),{modelValue:a.value,"onUpdate:modelValue":p[0]||(p[0]=e=>a.value=e),type:"number",placeholder:"Valor do produto em R$",min:"0"},null,8,["modelValue"])])),_:1}),p[20]||(p[20]=(0,n.Lk)("br",null,null,-1)),(0,n.bF)((0,t.R1)(i.JR),{modelValue:c.value,"onUpdate:modelValue":p[1]||(p[1]=e=>c.value=e),options:d,class:"mb-3","value-field":"item","text-field":"name","disabled-field":"notEnabled"},null,8,["modelValue"]),(0,n.Lk)("div",M,[(0,n.bF)((0,t.R1)(i.oU),{deck:""},{default:(0,n.k6)((()=>[(0,n.bo)(((0,n.uX)(),(0,n.Wv)((0,t.R1)(i.vm),{title:"Shopee"},{default:(0,n.k6)((()=>[p[9]||(p[9]=(0,n.Lk)("br",null,null,-1)),p[10]||(p[10]=(0,n.Lk)("strong",null,"Cálculos com lucro em:",-1)),p[11]||(p[11]=(0,n.Lk)("br",null,null,-1)),p[12]||(p[12]=(0,n.Lk)("br",null,null,-1)),(0,n.bF)((0,t.R1)(i.a9),null,{default:(0,n.k6)((()=>[(0,n.bF)((0,t.R1)(i.dR),null,{default:(0,n.k6)((()=>[(0,n.Lk)("div",Q,[(0,n.bF)((0,t.R1)(i.bL),{modelValue:o.value,"onUpdate:modelValue":p[2]||(p[2]=e=>o.value=e),type:"number",placeholder:"Porcentagem variante",style:{width:"250px"}},null,8,["modelValue"]),o.value&&a.value?((0,n.uX)(),(0,n.CE)("div",q,(0,u.v_)(o.value)+"% - R$ "+(0,u.v_)(r.value.total)+" - Lucro: R$ "+(0,u.v_)(r.value.lucro),1)):(0,n.Q3)("",!0),r.value?((0,n.uX)(),(0,n.Wv)((0,t.R1)(i.PF),{key:1,size:"sm",class:"mx-1",variant:"outline-secondary",onClick:p[3]||(p[3]=e=>v(String(r.value.total)))},{default:(0,n.k6)((()=>p[6]||(p[6]=[(0,n.eW)("📋")]))),_:1,__:[6]})):(0,n.Q3)("",!0)])])),_:1}),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(b.value,((e,l)=>((0,n.uX)(),(0,n.Wv)((0,t.R1)(i.dR),{key:"shopee-"+l},{default:(0,n.k6)((()=>[(0,n.eW)((0,u.v_)(m[l])+"% - R$ "+(0,u.v_)(e?.total)+" - Lucro: R$ "+(0,u.v_)(e?.lucro)+" ",1),a.value?((0,n.uX)(),(0,n.CE)("span",D,[(0,n.bF)((0,t.R1)(i.us),null,{target:(0,n.k6)((()=>[(0,n.bF)((0,t.R1)(i.PF),{size:"sm",class:"mx-1",variant:"outline-secondary",onClick:a=>v(String(e.total))},{default:(0,n.k6)((()=>p[7]||(p[7]=[(0,n.eW)("📋")]))),_:2,__:[7]},1032,["onClick"])])),default:(0,n.k6)((()=>[p[8]||(p[8]=(0,n.eW)(" Copiar valor "))])),_:2,__:[8]},1024)])):(0,n.Q3)("",!0)])),_:2},1024)))),128))])),_:1})])),_:1,__:[9,10,11,12]})),[[k,"light"]]),(0,n.bo)(((0,n.uX)(),(0,n.Wv)((0,t.R1)(i.vm),{title:"Amazon"},{default:(0,n.k6)((()=>[p[16]||(p[16]=(0,n.Lk)("br",null,null,-1)),p[17]||(p[17]=(0,n.Lk)("strong",null,"Cálculos com lucro em:",-1)),p[18]||(p[18]=(0,n.Lk)("br",null,null,-1)),p[19]||(p[19]=(0,n.Lk)("br",null,null,-1)),(0,n.bF)((0,t.R1)(i.a9),null,{default:(0,n.k6)((()=>[(0,n.bF)((0,t.R1)(i.dR),null,{default:(0,n.k6)((()=>[(0,n.Lk)("div",H,[(0,n.bF)((0,t.R1)(i.bL),{modelValue:l.value,"onUpdate:modelValue":p[4]||(p[4]=e=>l.value=e),type:"number",placeholder:"Porcentagem variante",style:{width:"250px"}},null,8,["modelValue"]),l.value&&a.value?((0,n.uX)(),(0,n.CE)("div",G,(0,u.v_)(l.value)+"% - R$ "+(0,u.v_)(s.value.total)+" - Lucro: R$ "+(0,u.v_)(s.value.lucro),1)):(0,n.Q3)("",!0),s.value?((0,n.uX)(),(0,n.Wv)((0,t.R1)(i.PF),{key:1,size:"sm",class:"mx-1",variant:"outline-secondary",onClick:p[5]||(p[5]=e=>v(String(s.value.total)))},{default:(0,n.k6)((()=>p[13]||(p[13]=[(0,n.eW)("📋")]))),_:1,__:[13]})):(0,n.Q3)("",!0)])])),_:1}),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(f.value,((e,l)=>((0,n.uX)(),(0,n.Wv)((0,t.R1)(i.dR),{key:"amazon-"+l},{default:(0,n.k6)((()=>[(0,n.eW)((0,u.v_)(m[l])+"% - R$ "+(0,u.v_)(e?.total)+" - Lucro: R$ "+(0,u.v_)(e?.lucro)+" ",1),a.value?((0,n.uX)(),(0,n.CE)("span",Y,[(0,n.bF)((0,t.R1)(i.us),null,{target:(0,n.k6)((()=>[(0,n.bF)((0,t.R1)(i.PF),{size:"sm",class:"mx-1",variant:"outline-secondary",onClick:a=>v(String(e.total))},{default:(0,n.k6)((()=>p[14]||(p[14]=[(0,n.eW)("📋")]))),_:2,__:[14]},1032,["onClick"])])),default:(0,n.k6)((()=>[p[15]||(p[15]=(0,n.eW)(" Copiar valor "))])),_:2,__:[15]},1024)])):(0,n.Q3)("",!0)])),_:2},1024)))),128))])),_:1})])),_:1,__:[16,17,18,19]})),[[k,"light"]])])),_:1})])])}}});const ee=Z;var ae=ee,le=(0,n.pM)({__name:"ToastAlert",props:{message:{},type:{},duration:{}},setup(e,{expose:a}){const l=e,o=(0,t.KR)(!1),i=(0,t.KR)(l.message),r=(0,t.KR)(l.type||"info"),s=(0,t.KR)(l.duration||2500);return(0,n.wB)((()=>l.message),(e=>{i.value=e,e&&(o.value=!0,setTimeout((()=>{o.value=!1}),s.value))})),(0,n.wB)((()=>l.type),(e=>{r.value=e||"info"})),a({show:o}),(e,a)=>o.value?((0,n.uX)(),(0,n.CE)("div",{key:0,class:(0,u.C4)(["alert","success"===r.value?"alert-success":"danger"===r.value?"alert-danger":"alert-info","position-fixed","top-0","end-0","m-3","fade","show"]),style:{"z-index":"9999","min-width":"200px"}},(0,u.v_)(i.value),3)):(0,n.Q3)("",!0)}});const oe=le;var ne=oe;const te={class:"mb-2"},ue={class:"mb-2"},ie={class:"btn btn-success",type:"submit"},re={class:"table table-bordered"},se=["onClick"],ce=["onClick"];var de=(0,n.pM)({__name:"CadastroCliente",setup(e){const a=(0,t.KR)([]),l=(0,t.KR)({nome:"",telefone:""}),s=(0,t.KR)(!1),d=(0,t.KR)(!1),m=(0,t.KR)(null),{toastMsg:v,toastType:p,showToast:k}=f();async function b(){const e=await r(`${c}/clientes`);a.value=await e.json()}async function _(){let e=`${c}/clientes`,a="POST";l.value.id&&(e=`${c}/clientes/${l.value.id}`,a="PUT"),await r(e,{method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify(l.value)}),C(),await b(),k(l.value.id?"Cliente atualizado com sucesso!":"Cliente criado com sucesso!","success")}function h(){C(),s.value=!0}function g(e){l.value={...e},s.value=!0}function L(){s.value=!1,C()}async function y(e){m.value=e,d.value=!0}async function R(){null!==m.value&&(await r(`${c}/clientes/${m.value}`,{method:"DELETE"}),await b(),k("Cliente excluído com sucesso!","success"),d.value=!1,m.value=null)}function C(){l.value={nome:"",telefone:""}}function w(e){let a=e.target.value.replace(/\D/g,"");a.length>11&&(a=a.slice(0,11)),a=a.length>6?a.replace(/^(\d{2})(\d{5})(\d{0,4}).*/,"($1) $2-$3"):a.length>2?a.replace(/^(\d{2})(\d{0,5})/,"($1) $2"):a.replace(/^(\d*)/,"($1"),e.target.value=a,l.value.telefone=a}return(0,n.sV)(b),(e,r)=>((0,n.uX)(),(0,n.CE)("div",null,[r[7]||(r[7]=(0,n.Lk)("h2",null,"Cadastro de Cliente",-1)),(0,n.Lk)("button",{class:"btn btn-primary mb-3",onClick:h},"Novo +"),s.value?((0,n.uX)(),(0,n.CE)("form",{key:0,onSubmit:(0,o.D$)(_,["prevent"])},[(0,n.Lk)("div",te,[r[3]||(r[3]=(0,n.Lk)("label",null,"Nome:",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":r[0]||(r[0]=e=>l.value.nome=e),class:"form-control",required:""},null,512),[[o.Jo,l.value.nome]])]),(0,n.Lk)("div",ue,[r[4]||(r[4]=(0,n.Lk)("label",null,"Telefone:",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":r[1]||(r[1]=e=>l.value.telefone=e),class:"form-control",onInput:w,maxlength:"15"},null,544),[[o.Jo,l.value.telefone]])]),(0,n.Lk)("button",ie,(0,u.v_)(l.value.id?"Atualizar":"Adicionar"),1),(0,n.Lk)("button",{class:"btn btn-secondary ms-2",type:"button",onClick:L},"Cancelar")],32)):(0,n.Q3)("",!0),r[8]||(r[8]=(0,n.Lk)("hr",null,null,-1)),r[9]||(r[9]=(0,n.Lk)("h3",null,"Clientes",-1)),(0,n.Lk)("table",re,[r[5]||(r[5]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Nome"),(0,n.Lk)("th",null,"Telefone"),(0,n.Lk)("th",null,"Ações")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.value,(e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.id},[(0,n.Lk)("td",null,(0,u.v_)(e.nome),1),(0,n.Lk)("td",null,(0,u.v_)(e.telefone),1),(0,n.Lk)("td",null,[(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:a=>g(e)},"Editar",8,se),(0,n.Lk)("button",{class:"btn btn-danger btn-sm ms-2",onClick:a=>y(e.id)},"Excluir",8,ce)])])))),128))])]),(0,n.bF)((0,t.R1)(i.RB),{modelValue:d.value,"onUpdate:modelValue":r[2]||(r[2]=e=>d.value=e),title:"Confirmar exclusão","ok-title":"Excluir","cancel-title":"Cancelar",onOk:R},{default:(0,n.k6)((()=>r[6]||(r[6]=[(0,n.eW)(" Tem certeza que deseja excluir este cliente? ")]))),_:1,__:[6]},8,["modelValue"]),(0,n.bF)(ne,{message:(0,t.R1)(v),type:(0,t.R1)(p)},null,8,["message","type"])]))}});const me=de;var ve=me;const pe={class:"mb-2"},ke={class:"mb-2"},be={class:"mb-2"},fe=["required"],_e={class:"mb-2"},he={class:"mb-2"},ge={class:"mb-2"},Le={class:"btn btn-success",type:"submit"},ye={class:"table table-bordered"};var Re=(0,n.pM)({__name:"CadastroFuncionario",setup(e){const a=(0,t.KR)([]),l=(0,t.KR)({nome:"",telefone:"",email:"",senha:"",cargo_superior:!1,valor_receber:0,data_receber_pagamento:"",chave_pix:""}),s=(0,t.KR)(!1),d=(0,t.KR)(!1),m=(0,t.KR)(null),{toastMsg:v,toastType:p,showToast:k}=f();async function b(){const e=await r(`${c}/funcionarios`),l=await e.json();a.value=l.map((e=>({...e,cargo_superior:!!e.cargo_superior})))}async function _(){const e={...l.value,cargo_superior:l.value.cargo_superior?1:0},a=!!l.value.id;let o=`${c}/funcionarios`,n="POST";a&&(o=`${c}/funcionarios/${l.value.id}`,n="PUT");try{const l=await r(o,{method:n,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!l.ok){const e=await l.json();return void k(e.error||"Erro ao salvar funcionário","danger")}L(),await b(),k(a?"Funcionário atualizado com sucesso!":"Funcionário criado com sucesso!","success")}catch(t){k("Erro de rede ao salvar funcionário","danger")}}function h(){C(),s.value=!0}function g(e){l.value={...e},s.value=!0}function L(){s.value=!1,C()}async function y(e){m.value=e,d.value=!0}async function R(){null!==m.value&&(await r(`${c}/funcionarios/${m.value}`,{method:"DELETE"}),await b(),k("Funcionário excluído com sucesso!","success"),d.value=!1,m.value=null)}function C(){l.value={nome:"",telefone:"",email:"",senha:"",cargo_superior:!1}}function w(e){let a=e.target.value.replace(/\D/g,"");a.length>11&&(a=a.slice(0,11)),a=a.length>6?a.replace(/^(\d{2})(\d{5})(\d{0,4}).*/,"($1) $2-$3"):a.length>2?a.replace(/^(\d{2})(\d{0,5})/,"($1) $2"):a.replace(/^(\d*)/,"($1"),e.target.value=a,l.value.telefone=a}async function V(e){const a={...e},l={...a,valor_receber:a.valor_receber,data_receber_pagamento:a.data_receber_pagamento};let o=`${c}/funcionarios/${a.id}`,n="PUT";await r(o,{method:n,headers:{"Content-Type":"application/json"},body:JSON.stringify(l)})}return(0,n.sV)(b),(e,r)=>((0,n.uX)(),(0,n.CE)("div",null,[r[18]||(r[18]=(0,n.Lk)("h2",null,"Cadastro de Funcionário",-1)),(0,n.Lk)("button",{class:"btn btn-primary mb-3",onClick:h},"Novo +"),s.value?((0,n.uX)(),(0,n.CE)("form",{key:0,onSubmit:(0,o.D$)(_,["prevent"])},[(0,n.Lk)("div",pe,[r[7]||(r[7]=(0,n.Lk)("label",null,"Nome:",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":r[0]||(r[0]=e=>l.value.nome=e),class:"form-control",required:""},null,512),[[o.Jo,l.value.nome]])]),(0,n.Lk)("div",ke,[r[8]||(r[8]=(0,n.Lk)("label",null,"Email:",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":r[1]||(r[1]=e=>l.value.email=e),class:"form-control",type:"email",required:""},null,512),[[o.Jo,l.value.email]])]),(0,n.Lk)("div",be,[r[9]||(r[9]=(0,n.Lk)("label",null,"Senha:",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":r[2]||(r[2]=e=>l.value.senha=e),class:"form-control",type:"password",required:!l.value.id,autocomplete:"new-password"},null,8,fe),[[o.Jo,l.value.senha]])]),(0,n.Lk)("div",_e,[r[10]||(r[10]=(0,n.Lk)("label",null,"Chave Pix:",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":r[3]||(r[3]=e=>l.value.chave_pix=e),class:"form-control"},null,512),[[o.Jo,l.value.chave_pix]])]),(0,n.Lk)("div",he,[r[11]||(r[11]=(0,n.Lk)("label",null,"Telefone:",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":r[4]||(r[4]=e=>l.value.telefone=e),class:"form-control",onInput:w,maxlength:"15"},null,544),[[o.Jo,l.value.telefone]])]),(0,n.Lk)("div",ge,[(0,n.bF)((0,t.R1)(i.GJ),{switch:"",modelValue:l.value.cargo_superior,"onUpdate:modelValue":r[5]||(r[5]=e=>l.value.cargo_superior=e)},{default:(0,n.k6)((()=>r[12]||(r[12]=[(0,n.eW)("Cargo Superior")]))),_:1,__:[12]},8,["modelValue"])]),(0,n.Lk)("button",Le,(0,u.v_)(l.value.id?"Atualizar":"Adicionar"),1),(0,n.Lk)("button",{class:"btn btn-secondary ms-2",type:"button",onClick:L}," Cancelar ")],32)):(0,n.Q3)("",!0),r[19]||(r[19]=(0,n.Lk)("hr",null,null,-1)),r[20]||(r[20]=(0,n.Lk)("h3",null,"Funcionários",-1)),(0,n.Lk)("table",ye,[r[16]||(r[16]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Nome"),(0,n.Lk)("th",null,"Email"),(0,n.Lk)("th",null,"Telefone"),(0,n.Lk)("th",null,"Data de Pagamento"),(0,n.Lk)("th",null,"Valor a Receber"),(0,n.Lk)("th",null,"Chave PIX"),(0,n.Lk)("th",null,"Ações")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.value,(e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.id},[(0,n.Lk)("td",null,(0,u.v_)(e.nome),1),(0,n.Lk)("td",null,(0,u.v_)(e.email),1),(0,n.Lk)("td",null,(0,u.v_)(e.telefone),1),(0,n.Lk)("td",null,[(0,n.bF)((0,t.R1)(i.bL),{modelValue:e.data_receber_pagamento,"onUpdate:modelValue":a=>e.data_receber_pagamento=a,type:"date",class:"form-control",onInput:a=>V(e)},null,8,["modelValue","onUpdate:modelValue","onInput"])]),(0,n.Lk)("td",null,[(0,n.bF)((0,t.R1)(i.Yo),{prepend:"R$"},{default:(0,n.k6)((()=>[(0,n.bF)((0,t.R1)(i.bL),{modelValue:e.valor_receber,"onUpdate:modelValue":a=>e.valor_receber=a,type:"number",class:"form-control",onInput:a=>V(e)},null,8,["modelValue","onUpdate:modelValue","onInput"])])),_:2},1024)]),(0,n.Lk)("td",null,(0,u.v_)(e.chave_pix),1),(0,n.Lk)("td",null,[(0,n.bF)((0,t.R1)(i.UV),{size:"lg",variant:"link","toggle-class":"text-decoration-none","no-caret":""},{"button-content":(0,n.k6)((()=>r[13]||(r[13]=[(0,n.eW)("☰"),(0,n.Lk)("span",{class:"visually-hidden"},"Ações",-1)]))),default:(0,n.k6)((()=>[(0,n.bF)((0,t.R1)(i.H_),{onClick:a=>g(e)},{default:(0,n.k6)((()=>r[14]||(r[14]=[(0,n.eW)("Editar")]))),_:2,__:[14]},1032,["onClick"]),(0,n.bF)((0,t.R1)(i.H_),{onClick:a=>y(e.id)},{default:(0,n.k6)((()=>r[15]||(r[15]=[(0,n.eW)("Excluir")]))),_:2,__:[15]},1032,["onClick"])])),_:2},1024)])])))),128))])]),(0,n.bF)((0,t.R1)(i.RB),{modelValue:d.value,"onUpdate:modelValue":r[6]||(r[6]=e=>d.value=e),title:"Confirmar exclusão","ok-title":"Excluir","cancel-title":"Cancelar",onOk:R},{default:(0,n.k6)((()=>r[17]||(r[17]=[(0,n.eW)(" Tem certeza que deseja excluir este funcionário? ")]))),_:1,__:[17]},8,["modelValue"]),(0,n.bF)(ne,{message:(0,t.R1)(v),type:(0,t.R1)(p)},null,8,["message","type"])]))}});const Ce=Re;var we=Ce;const Ve={class:"mb-2"},Fe={class:"mb-2"},Ee=["value"],xe={class:"mb-2"},Se=["value"],je={class:"mb-2"},We={class:"mb-2"},$e={class:"mb-2"},Ue={class:"mb-2"},Xe={class:"mb-2"},Ke={class:"mb-2"},Te={class:"btn btn-success",type:"submit"},ze={class:"table table-bordered"},Ae=["onClick"],Je=["onClick"];var Be=(0,n.pM)({__name:"CadastroLoja",setup(e){const a=(0,t.KR)([]),l=(0,t.KR)([]),d=(0,t.KR)([]),m=(0,t.KR)({nome:"",funcionario_id:0,cliente_id:0,anuncios_total:0,anuncios_realizados:0,anuncios_otimizados:0,visitas_semana:0,produto_mais_visitado:"",vendas_total:0}),v=(0,t.KR)(!1),p=(0,t.KR)(!1),k=(0,t.KR)(null),{toastMsg:b,toastType:_,showToast:h}=f();async function g(){const e=s();let o=`${c}/lojas`;e&&e.id&&0!==e.id&&(o+=`?funcionario_id=${e.id}`);const[n,t,u]=await Promise.all([r(o),r(`${c}/funcionarios`),r(`${c}/clientes`)]);let i=await n.json();e&&e.id&&0!==e.id&&(i=i.filter((a=>a.funcionario_id===e.id))),a.value=i,l.value=await t.json(),d.value=await u.json()}async function L(){null!==k.value&&(await r(`${c}/lojas/${k.value}`,{method:"DELETE"}),await g(),h("Loja excluída com sucesso!","success"),p.value=!1,k.value=null)}async function y(){const e=s();e&&e.id&&0!==e.id&&(m.value.funcionario_id=e.id);let a=`${c}/lojas`,l="POST";m.value.id&&(a=`${c}/lojas/${m.value.id}`,l="PUT"),await r(a,{method:l,headers:{"Content-Type":"application/json"},body:JSON.stringify(m.value)}),w(),await g(),h(m.value.id?"Loja atualizada com sucesso!":"Loja criada com sucesso!","success")}function R(){F(),v.value=!0}function C(e){m.value={...e},v.value=!0}function w(){v.value=!1,F()}async function V(e){k.value=e,p.value=!0}function F(){m.value={nome:"",funcionario_id:0,cliente_id:0,anuncios_total:0,anuncios_realizados:0,anuncios_otimizados:0,visitas_semana:0,produto_mais_visitado:"",vendas_total:0}}return(0,n.sV)(g),(e,r)=>((0,n.uX)(),(0,n.CE)("div",null,[r[23]||(r[23]=(0,n.Lk)("h2",null,"Cadastro de Loja",-1)),(0,n.Lk)("button",{class:"btn btn-primary mb-3",onClick:R},"Novo +"),v.value?((0,n.uX)(),(0,n.CE)("form",{key:0,onSubmit:(0,o.D$)(y,["prevent"])},[(0,n.Lk)("div",Ve,[r[10]||(r[10]=(0,n.Lk)("label",null,"Nome da Loja:",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":r[0]||(r[0]=e=>m.value.nome=e),class:"form-control",required:""},null,512),[[o.Jo,m.value.nome]])]),(0,n.Lk)("div",Fe,[r[12]||(r[12]=(0,n.Lk)("label",null,"Funcionário:",-1)),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":r[1]||(r[1]=e=>m.value.funcionario_id=e),class:"form-control",required:""},[r[11]||(r[11]=(0,n.Lk)("option",{value:"",disabled:""},"Selecione",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.value,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.id,value:e.id},(0,u.v_)(e.nome),9,Ee)))),128))],512),[[o.u1,m.value.funcionario_id]])]),(0,n.Lk)("div",xe,[r[14]||(r[14]=(0,n.Lk)("label",null,"Cliente:",-1)),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":r[2]||(r[2]=e=>m.value.cliente_id=e),class:"form-control",required:""},[r[13]||(r[13]=(0,n.Lk)("option",{value:"",disabled:""},"Selecione",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(d.value,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.id,value:e.id},(0,u.v_)(e.nome),9,Se)))),128))],512),[[o.u1,m.value.cliente_id]])]),(0,n.Lk)("div",je,[r[15]||(r[15]=(0,n.Lk)("label",null,"Anúncios Total:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"number",min:"0","onUpdate:modelValue":r[3]||(r[3]=e=>m.value.anuncios_total=e),class:"form-control"},null,512),[[o.Jo,m.value.anuncios_total,void 0,{number:!0}]])]),(0,n.Lk)("div",We,[r[16]||(r[16]=(0,n.Lk)("label",null,"Anúncios Realizados:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"number",min:"0","onUpdate:modelValue":r[4]||(r[4]=e=>m.value.anuncios_realizados=e),class:"form-control"},null,512),[[o.Jo,m.value.anuncios_realizados,void 0,{number:!0}]])]),(0,n.Lk)("div",$e,[r[17]||(r[17]=(0,n.Lk)("label",null,"Anúncios Otimizados:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"number",min:"0","onUpdate:modelValue":r[5]||(r[5]=e=>m.value.anuncios_otimizados=e),class:"form-control"},null,512),[[o.Jo,m.value.anuncios_otimizados,void 0,{number:!0}]])]),(0,n.Lk)("div",Ue,[r[18]||(r[18]=(0,n.Lk)("label",null,"Visitas Semana:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"number",min:"0","onUpdate:modelValue":r[6]||(r[6]=e=>m.value.visitas_semana=e),class:"form-control"},null,512),[[o.Jo,m.value.visitas_semana,void 0,{number:!0}]])]),(0,n.Lk)("div",Xe,[r[19]||(r[19]=(0,n.Lk)("label",null,"Produto Mais Visitado:",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":r[7]||(r[7]=e=>m.value.produto_mais_visitado=e),class:"form-control"},null,512),[[o.Jo,m.value.produto_mais_visitado]])]),(0,n.Lk)("div",Ke,[r[20]||(r[20]=(0,n.Lk)("label",null,"Vendas Total:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"number",min:"0","onUpdate:modelValue":r[8]||(r[8]=e=>m.value.vendas_total=e),class:"form-control"},null,512),[[o.Jo,m.value.vendas_total,void 0,{number:!0}]])]),(0,n.Lk)("button",Te,(0,u.v_)(m.value.id?"Atualizar":"Adicionar"),1),(0,n.Lk)("button",{class:"btn btn-secondary ms-2",type:"button",onClick:w},"Cancelar")],32)):(0,n.Q3)("",!0),r[24]||(r[24]=(0,n.Lk)("hr",null,null,-1)),r[25]||(r[25]=(0,n.Lk)("h3",null,"Lojas",-1)),(0,n.Lk)("table",ze,[r[21]||(r[21]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Nome"),(0,n.Lk)("th",null,"Funcionário"),(0,n.Lk)("th",null,"Cliente"),(0,n.Lk)("th",null,"Anúncios Total"),(0,n.Lk)("th",null,"Anúncios Realizados"),(0,n.Lk)("th",null,"Anúncios Otimizados"),(0,n.Lk)("th",null,"Visitas Semana"),(0,n.Lk)("th",null,"Produto Mais Visitado"),(0,n.Lk)("th",null,"Vendas Total"),(0,n.Lk)("th",null,"Ações")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.value,(e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.id},[(0,n.Lk)("td",null,(0,u.v_)(e.nome),1),(0,n.Lk)("td",null,(0,u.v_)(e.funcionario_nome),1),(0,n.Lk)("td",null,(0,u.v_)(e.cliente_nome),1),(0,n.Lk)("td",null,(0,u.v_)(e.anuncios_total),1),(0,n.Lk)("td",null,(0,u.v_)(e.anuncios_realizados),1),(0,n.Lk)("td",null,(0,u.v_)(e.anuncios_otimizados),1),(0,n.Lk)("td",null,(0,u.v_)(e.visitas_semana),1),(0,n.Lk)("td",null,(0,u.v_)(e.produto_mais_visitado),1),(0,n.Lk)("td",null,(0,u.v_)(e.vendas_total),1),(0,n.Lk)("td",null,[(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:a=>C(e)},"Editar",8,Ae),(0,n.Lk)("button",{class:"btn btn-danger btn-sm ms-2",onClick:a=>V(e.id)},"Excluir",8,Je)])])))),128))])]),(0,n.bF)((0,t.R1)(i.RB),{modelValue:p.value,"onUpdate:modelValue":r[9]||(r[9]=e=>p.value=e),title:"Confirmar exclusão","ok-title":"Excluir","cancel-title":"Cancelar",onOk:L},{default:(0,n.k6)((()=>r[22]||(r[22]=[(0,n.eW)(" Tem certeza que deseja excluir esta loja? ")]))),_:1,__:[22]},8,["modelValue"]),(0,n.bF)(ne,{message:(0,t.R1)(b),type:(0,t.R1)(_)},null,8,["message","type"])]))}});const Oe=Be;var Ne=Oe,Ie=l.p+"img/logoSis.33d69de2.png",Pe=l(942),Me=l(980),Qe=l(9385),qe=l(124),De=l(5790),He=l(1501),Ge=(0,n.pM)({__name:"emailRSenhaTemplate",props:{title:{}},setup(e){const a=e;return(e,l)=>((0,n.uX)(),(0,n.Wv)((0,t.R1)(Me.E),null,{default:(0,n.k6)((()=>[(0,n.bF)((0,t.R1)(Qe.n),null,{default:(0,n.k6)((()=>[(0,n.bF)((0,t.R1)(qe.m),null,{default:(0,n.k6)((()=>[(0,n.bF)((0,t.R1)(De.E),null,{default:(0,n.k6)((()=>[(0,n.eW)((0,u.v_)(a.title),1)])),_:1}),(0,n.bF)((0,t.R1)(He.$),{href:"https://example.com"},{default:(0,n.k6)((()=>l[0]||(l[0]=[(0,n.eW)("Clique aqui")]))),_:1,__:[0]})])),_:1})])),_:1})])),_:1}))}});const Ye=Ge;var Ze=Ye;const ea={class:"mb-3"},aa={class:"d-flex justify-content-end gap-2 mt-3"};var la=(0,n.pM)({__name:"EmailRecuperarSenha",props:{visivel:{type:Boolean}},emits:["fechar"],setup(e,{emit:a}){const l=e,r=a,s=(0,t.KR)(!1),d=(0,t.KR)(""),m=(0,t.KR)(!1);(0,n.wB)((()=>l.visivel),(e=>s.value=e));const v=()=>{s.value=!1,r("fechar")},p=async()=>{if(d.value.includes("@")){m.value=!0;try{const e=await(0,Pe.XX)(Ze,{title:"Recuperação de Senha"}),a=await fetch(`${c}/enviar-email`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({para:d.value,html:e})});if(!a.ok)throw new Error("Erro ao enviar e-mail");alert("E-mail enviado com sucesso!"),v()}catch(e){console.error(e),alert("Erro ao enviar o e-mail")}finally{m.value=!1}}else alert("E-mail inválido")};return(e,a)=>((0,n.uX)(),(0,n.Wv)((0,t.R1)(i.RB),{modelValue:s.value,"onUpdate:modelValue":a[1]||(a[1]=e=>s.value=e),title:"Recuperar Senha",centered:"",onHide:v,"no-footer":""},{default:(0,n.k6)((()=>[(0,n.Lk)("div",ea,[a[2]||(a[2]=(0,n.Lk)("label",{for:"email",class:"form-label"},"E-mail",-1)),(0,n.bo)((0,n.Lk)("input",{id:"email","onUpdate:modelValue":a[0]||(a[0]=e=>d.value=e),type:"email",class:"form-control",placeholder:"exemplo@email.com",required:""},null,512),[[o.Jo,d.value]])]),(0,n.Lk)("div",aa,[(0,n.bF)((0,t.R1)(i.PF),{variant:"secondary",onClick:v,disabled:m.value},{default:(0,n.k6)((()=>a[3]||(a[3]=[(0,n.eW)(" Cancelar ")]))),_:1,__:[3]},8,["disabled"]),(0,n.bF)((0,t.R1)(i.PF),{variant:"primary",onClick:p,disabled:m.value},{default:(0,n.k6)((()=>[(0,n.eW)((0,u.v_)(m.value?"Enviando...":"Enviar"),1)])),_:1},8,["disabled"])])])),_:1},8,["modelValue"]))}});const oa=la;var na=oa;const ta={class:"login-view d-flex align-items-stretch min-vh-100",style:{background:"#23272b"}},ua={class:"login-image d-flex align-items-center justify-content-center",style:{flex:"1",background:"#181a1b"}},ia={key:0,src:Ie,alt:"Logo do sistema",style:{width:"100%",height:"660px","object-fit":"cover","object-position":"center"}},ra={key:1,src:Ie,alt:"Logo do sistema",style:{width:"200px",height:"300px","object-fit":"cover","object-position":"center"}},sa={class:"login-form d-flex align-items-center justify-content-center",style:{flex:"1"}},ca={class:"w-100",style:{"max-width":"350px"}},da={class:"mb-3"},ma={class:"mb-3"},va={class:"d-grid gap-2"};var pa=(0,n.pM)({__name:"LoginView",setup(e){const a=(0,t.KR)(""),l=(0,t.KR)(""),u=(0,t.KR)(!1),r=()=>{u.value=!0},s=(0,t.KR)(!1);function d(){s.value=window.innerWidth<=900}(0,n.sV)((()=>{d(),window.addEventListener("resize",d),localStorage.removeItem("token"),localStorage.removeItem("user")}));const m=async()=>{if("admin@email.com"===a.value&&"admin"===l.value)return localStorage.setItem("token","homolog-token"),localStorage.setItem("user",JSON.stringify({id:0,nome:"Admin",email:"admin@email.com"})),void xa.push("/relatorio");try{const e=await fetch(`${c}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.value,senha:l.value})});if(!e.ok)return void alert("Login inválido");const o=await e.json();localStorage.setItem("token",o.token),localStorage.setItem("user",JSON.stringify(o.user)),xa.push("/relatorio")}catch(e){alert("Erro ao fazer login"),console.error(e)}},v=()=>{xa.push("/calculadora-deslogada")};return(e,c)=>((0,n.uX)(),(0,n.CE)("div",ta,[(0,n.Lk)("div",ua,[s.value?((0,n.uX)(),(0,n.CE)("img",ra)):((0,n.uX)(),(0,n.CE)("img",ia))]),(0,n.Lk)("div",sa,[(0,n.Lk)("div",ca,[c[8]||(c[8]=(0,n.Lk)("h3",{class:"mb-4 text-center text-white"},"Realize seu login",-1)),(0,n.Lk)("form",{onSubmit:(0,o.D$)(m,["prevent"])},[(0,n.Lk)("div",da,[c[3]||(c[3]=(0,n.Lk)("label",{for:"email",class:"form-label text-white"},"Email",-1)),(0,n.bF)((0,t.R1)(i.bL),{type:"email",id:"email",modelValue:a.value,"onUpdate:modelValue":c[0]||(c[0]=e=>a.value=e),state:null,required:"",placeholder:"Email"},null,8,["modelValue"])]),(0,n.Lk)("div",ma,[c[4]||(c[4]=(0,n.Lk)("label",{for:"password",class:"form-label text-white"},"Senha",-1)),(0,n.bF)((0,t.R1)(i.bL),{modelValue:l.value,"onUpdate:modelValue":c[1]||(c[1]=e=>l.value=e),id:"password",type:"password",state:null,required:"",placeholder:"Senha"},null,8,["modelValue"])]),(0,n.Lk)("div",va,[(0,n.bF)((0,t.R1)(i.PF),{type:"submit",variant:"success",class:"w-100"},{default:(0,n.k6)((()=>c[5]||(c[5]=[(0,n.eW)("Login")]))),_:1,__:[5]}),(0,n.bF)((0,t.R1)(i.PF),{onClick:v,class:"w-100",variant:"info"},{default:(0,n.k6)((()=>c[6]||(c[6]=[(0,n.eW)("Acessar Calculadora")]))),_:1,__:[6]}),(0,n.bF)((0,t.R1)(i.PF),{onClick:r,class:"w-100",variant:"link"},{default:(0,n.k6)((()=>c[7]||(c[7]=[(0,n.eW)("Esqueci minha senha")]))),_:1,__:[7]})])],32)])]),(0,n.bF)(na,{visivel:u.value,onFechar:c[2]||(c[2]=e=>u.value=!1)},null,8,["visivel"])]))}});const ka=pa;var ba=ka,fa=l(4887),_a=(0,n.pM)({__name:"EmailCadastrarSenha",props:{title:String},setup(e){return(a,l)=>((0,n.uX)(),(0,n.Wv)((0,t.R1)(Me.E),{lang:"en"},{default:(0,n.k6)((()=>[(0,n.bF)((0,t.R1)(De.E),null,{default:(0,n.k6)((()=>[(0,n.eW)((0,u.v_)(e.title),1)])),_:1}),(0,n.bF)((0,t.R1)(fa.Hr)),(0,n.bF)((0,t.R1)(He.$),{href:"https://example.com"},{default:(0,n.k6)((()=>l[0]||(l[0]=[(0,n.eW)("Click me")]))),_:1,__:[0]})])),_:1}))}});const ha=_a;var ga=ha;const La={class:"container"},ya={key:0},Ra={key:1,class:"erro"};var Ca={__name:"TesteIa",setup(e){const a=(0,t.KR)(""),l=(0,t.KR)(""),i=(0,t.KR)(""),r=(0,t.KR)(!1),s=(0,t.KR)(null),c=async()=>{s.value=null,r.value=!0;try{const e=await fetch("http://localhost:3001/api/preencher",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:a.value})}),o=await e.json();o.error?s.value=o.error:(l.value=o.campo1,i.value=o.campo2)}catch(e){s.value="Erro de conexão com o servidor."}finally{r.value=!1}};return(e,t)=>((0,n.uX)(),(0,n.CE)("div",La,[t[3]||(t[3]=(0,n.Lk)("h2",null,"Formulário com IA",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e),placeholder:"Digite seu prompt..."},null,512),[[o.Jo,a.value]]),(0,n.Lk)("button",{onClick:c},"Gerar Campos"),r.value?((0,n.uX)(),(0,n.CE)("div",ya,"Aguarde, gerando...")):(0,n.Q3)("",!0),s.value?((0,n.uX)(),(0,n.CE)("div",Ra,"Erro: "+(0,u.v_)(s.value),1)):(0,n.Q3)("",!0),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.value=e),placeholder:"Campo 1"},null,512),[[o.Jo,l.value]]),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>i.value=e),placeholder:"Campo 2"},null,512),[[o.Jo,i.value]])]))}};const wa=Ca;var Va=wa;const Fa=[{path:"/",redirect:"/login"},{path:"/login",name:"login",component:ba},{path:"/relatorio",name:"relatorio",component:I},{path:"/calculadora",name:"calculadora",component:ae},{path:"/calculadora-deslogada",name:"calculadoraDeslogada",component:ae},{path:"/cadastro-cliente",name:"cadastro-cliente",component:ve},{path:"/cadastro-funcionario",name:"cadastro-funcionario",component:we},{path:"/cadastro-loja",name:"cadastro-loja",component:Ne},{path:"/esqueci-senha",name:"esqueci-senha",component:na},{path:"/recuperar-senha",name:"recuperar-senha",component:ga},{path:"/teste-ia",name:"teste-ia",component:Va}],Ea=(0,L.aE)({history:(0,L.Bt)("/gerenciamento-lojas-calculadora-precos/"),routes:Fa});Ea.beforeEach(((e,a,l)=>{const o=localStorage.getItem("token"),n=["login","calculadoraDeslogada"];n.includes(e.name)||o?l():l({name:"login"})}));var xa=Ea,Sa=l(782),ja=(0,Sa.y$)({state:{},getters:{},mutations:{},actions:{},modules:{}});(0,o.Ef)(E).use(ja).use(xa).mount("#app")}},a={};function l(o){var n=a[o];if(void 0!==n)return n.exports;var t=a[o]={exports:{}};return e[o].call(t.exports,t,t.exports,l),t.exports}l.m=e,function(){var e=[];l.O=function(a,o,n,t){if(!o){var u=1/0;for(c=0;c<e.length;c++){o=e[c][0],n=e[c][1],t=e[c][2];for(var i=!0,r=0;r<o.length;r++)(!1&t||u>=t)&&Object.keys(l.O).every((function(e){return l.O[e](o[r])}))?o.splice(r--,1):(i=!1,t<u&&(u=t));if(i){e.splice(c--,1);var s=n();void 0!==s&&(a=s)}}return a}t=t||0;for(var c=e.length;c>0&&e[c-1][2]>t;c--)e[c]=e[c-1];e[c]=[o,n,t]}}(),function(){l.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(a,{a:a}),a}}(),function(){l.d=function(e,a){for(var o in a)l.o(a,o)&&!l.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:a[o]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){l.p="/gerenciamento-lojas-calculadora-precos/"}(),function(){var e={524:0};l.O.j=function(a){return 0===e[a]};var a=function(a,o){var n,t,u=o[0],i=o[1],r=o[2],s=0;if(u.some((function(a){return 0!==e[a]}))){for(n in i)l.o(i,n)&&(l.m[n]=i[n]);if(r)var c=r(l)}for(a&&a(o);s<u.length;s++)t=u[s],l.o(e,t)&&e[t]&&e[t][0](),e[t]=0;return l.O(c)},o=self["webpackChunkgerenciamento_lojas_calculadora_precos"]=self["webpackChunkgerenciamento_lojas_calculadora_precos"]||[];o.forEach(a.bind(null,0)),o.push=a.bind(null,o.push.bind(o))}();var o=l.O(void 0,[504],(function(){return l(3043)}));o=l.O(o)})();
//# sourceMappingURL=app.088c71e4.js.map