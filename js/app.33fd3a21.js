(function(){"use strict";var e={5672:function(e,l,n){var o=n(5130),a=(n(4114),n(6768)),t=n(144),i=n(8903),u=(0,a.pM)({__name:"NavBar",props:{corAtual:{}},emits:["update:corAtual"],setup(e,{emit:l}){const n=(0,t.KR)(!1);return(e,l)=>(0,a.bo)(((0,a.uX)(),(0,a.Wv)((0,t.R1)(i.x7),{toggleable:"lg",variant:"info-subtle"},{default:(0,a.k6)((()=>[(0,a.bF)((0,t.R1)(i.BN),{onClick:l[0]||(l[0]=e=>n.value=!n.value),target:"nav-collapse"}),(0,a.bF)((0,t.R1)(i.Kj),{id:"nav-collapse","is-nav":"",visible:n.value},{default:(0,a.k6)((()=>[(0,a.bF)((0,t.R1)(i.sl),{class:"w-100 justify-content-around"},{default:(0,a.k6)((()=>[(0,a.bF)((0,t.R1)(i.Hh),{to:"/cadastro-funcionario",tag:"router-link"},{default:(0,a.k6)((()=>l[1]||(l[1]=[(0,a.eW)("Funcionários")]))),_:1,__:[1]}),(0,a.bF)((0,t.R1)(i.Hh),{to:"/cadastro-cliente",tag:"router-link"},{default:(0,a.k6)((()=>l[2]||(l[2]=[(0,a.eW)("Clientes")]))),_:1,__:[2]}),(0,a.bF)((0,t.R1)(i.Hh),{to:"/cadastro-loja",tag:"router-link"},{default:(0,a.k6)((()=>l[3]||(l[3]=[(0,a.eW)("Lojas")]))),_:1,__:[3]}),(0,a.bF)((0,t.R1)(i.Hh),{to:"/relatorio",tag:"router-link"},{default:(0,a.k6)((()=>l[4]||(l[4]=[(0,a.eW)("Relatório")]))),_:1,__:[4]}),(0,a.bF)((0,t.R1)(i.Hh),{to:"/calculadora",tag:"router-link"},{default:(0,a.k6)((()=>l[5]||(l[5]=[(0,a.eW)("Calculadora")]))),_:1,__:[5]})])),_:1})])),_:1},8,["visible"])])),_:1})),[[(0,t.R1)(i.tB),e.corAtual]])}});const s=u;var r=s,c=n(1387);const d={key:0},m={key:1},v={key:0},k={class:"d-flex align-items-center justify-content-center",style:{width:"100%"}};var b=(0,a.pM)({__name:"App",setup(e){const l=(0,t.KR)("dark");function n(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function o(){const e=localStorage.getItem("corAtual");l.value="light"===e||"dark"===e?e:n()}function u(e){l.value=e,localStorage.setItem("corAtual",e)}const s=(0,c.rd)(),b=(0,c.lq)(),p=(0,a.EW)((()=>"LoginPage"===b.name||"/login"===b.path||"/calculadora-deslogada"===b.path));function f(){s.push({name:"login"})}return(0,a.sV)((()=>{o(),console.log(p),console.log(b.path)})),(e,n)=>{const o=(0,a.g2)("router-view");return p.value?((0,a.uX)(),(0,a.CE)("div",m,[(0,a.bo)(((0,a.uX)(),(0,a.Wv)((0,t.R1)(i.vm),{class:"border-0 rounded-0 min-vh-100 min-vw-100"},{default:(0,a.k6)((()=>[(0,a.bF)(o),"/calculadora-deslogada"===(0,t.R1)(b).path?((0,a.uX)(),(0,a.CE)("div",v,[n[1]||(n[1]=(0,a.Lk)("br",null,null,-1)),(0,a.Lk)("div",k,[(0,a.bF)((0,t.R1)(i.PF),{onClick:f,style:{width:"200px"},variant:"info"},{default:(0,a.k6)((()=>n[0]||(n[0]=[(0,a.eW)("Acessar Login")]))),_:1,__:[0]})])])):(0,a.Q3)("",!0)])),_:1})),[[(0,t.R1)(i.tB),l.value]])])):((0,a.uX)(),(0,a.CE)("div",d,[(0,a.bF)(r,{corAtual:l.value,"onUpdate:corAtual":u},null,8,["corAtual"]),(0,a.bo)(((0,a.uX)(),(0,a.Wv)((0,t.R1)(i.vm),{class:"border-0 rounded-0 min-vh-100 min-vw-100"},{default:(0,a.k6)((()=>[(0,a.bF)(o)])),_:1})),[[(0,t.R1)(i.tB),l.value]])]))}}});const p=b;var f=p,_=n(4458);(0,_.k)("/gerenciamento-lojas-calculadora-precos/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});n(8111),n(2489),n(7588);var h=n(4232),L=n(788),g=n(7093),y=n.n(g);const w="https://gerenciamento-lojas-calculadora-precos.onrender.com";async function C(e,l={}){const n=localStorage.getItem("token"),o={...l.headers||{}};return n&&"homolog-token"!==n&&(o["Authorization"]="Bearer "+n),fetch(e,{...l,headers:o})}function R(){const e=localStorage.getItem("user");if(!e)return null;try{return JSON.parse(e)}catch{return null}}const E={class:"inicio"},V={key:0},j={key:1},F=["onUpdate:modelValue","onBlur"],x=["onUpdate:modelValue","onBlur"],$=["onUpdate:modelValue","onBlur"],S=["onUpdate:modelValue","onBlur"],X=["onUpdate:modelValue","onBlur"],z=["onUpdate:modelValue","onBlur"];var U=(0,a.pM)({__name:"RelatorioView",setup(e){const l=[{key:"funcionario_nome",label:"Funcionário"},{key:"cliente_nome",label:"Cliente"},{key:"nome",label:"Loja"},"anuncios_total","anuncios_realizados","anuncios_otimizados","visitas_semana","produto_mais_visitado","vendas_total"],n=(0,t.KR)([]),u=(0,t.KR)(!0);async function s(){u.value=!0;try{const e=localStorage.getItem("token");if("homolog-token"===e)return n.value=[],void(u.value=!1);const l=R();let o=`${w}/lojas`;l&&l.id&&0!==l.id&&(o+=`?funcionario_id=${l.id}`);const a=await C(o);let t=await a.json();l&&l.id&&0!==l.id&&(t=t.filter((e=>e.funcionario_id===l.id))),n.value=t}finally{u.value=!1}}async function r(e){const l=localStorage.getItem("token");"homolog-token"!==l&&await C(`${w}/lojas/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}function c(){try{const e=new(y().Workbook),l=e.addWorksheet("Relatório"),o=["Nome do cliente","Nome da loja","Quantos anuncios\nno total na loja","Quantos anuncios\nfeitos na semana","Quantos anuncios\notimizados na semana","Quantas visitas\nesta tendo na loja na semana","Qual produto é\nmais visitado no total","Quantas vendas\naté hoje no total"];l.addRow(o),n.value.forEach((e=>{l.addRow([e.cliente_nome,e.nome,e.anuncios_total,e.anuncios_realizados,e.anuncios_otimizados,e.visitas_semana,e.produto_mais_visitado,e.vendas_total])})),l.getRow(1).height=40,l.columns=[{width:20},{width:20},{width:25},{width:28},{width:30},{width:35},{width:35},{width:28}],l.getRow(1).eachCell((e=>{e.alignment={vertical:"middle",horizontal:"center",wrapText:!0},e.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFF4B084"}},e.font={bold:!0}})),e.xlsx.writeBuffer().then((e=>{const l=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=`relatorio-${(new Date).toISOString().slice(0,10)}.xlsx`;(0,L.saveAs)(l,n)}))}catch(e){alert("Erro ao exportar relatório."),console.error(e)}}return(0,a.sV)(s),(e,s)=>((0,a.uX)(),(0,a.CE)("div",E,[s[0]||(s[0]=(0,a.Lk)("h2",null,"Relatório de Lojas",-1)),(0,a.Lk)("div",{class:"mb-3"},[(0,a.Lk)("button",{class:"btn btn-primary btn-sm",onClick:c},"Exportar relatório Excel preenchido")]),u.value?((0,a.uX)(),(0,a.CE)("div",V,"Carregando...")):((0,a.uX)(),(0,a.CE)("div",j,[n.value.length?((0,a.uX)(),(0,a.Wv)((0,t.R1)(i.Bt),{key:0,bordered:!0,outlined:!0,hover:!0,fixed:!0,items:n.value,fields:l},{"cell(funcionario_nome)":(0,a.k6)((({item:e})=>[(0,a.eW)((0,h.v_)(e.funcionario_nome),1)])),"cell(cliente_nome)":(0,a.k6)((({item:e})=>[(0,a.eW)((0,h.v_)(e.cliente_nome),1)])),"cell(nome)":(0,a.k6)((({item:e})=>[(0,a.eW)((0,h.v_)(e.nome),1)])),"cell(anuncios_total)":(0,a.k6)((({item:e})=>[(0,a.bo)((0,a.Lk)("input",{type:"number","onUpdate:modelValue":l=>e.anuncios_total=l,onBlur:l=>r(e),class:"form-control form-control-sm"},null,40,F),[[o.Jo,e.anuncios_total,void 0,{number:!0}]])])),"cell(anuncios_realizados)":(0,a.k6)((({item:e})=>[(0,a.bo)((0,a.Lk)("input",{type:"number","onUpdate:modelValue":l=>e.anuncios_realizados=l,onBlur:l=>r(e),class:"form-control form-control-sm"},null,40,x),[[o.Jo,e.anuncios_realizados,void 0,{number:!0}]])])),"cell(anuncios_otimizados)":(0,a.k6)((({item:e})=>[(0,a.bo)((0,a.Lk)("input",{type:"number","onUpdate:modelValue":l=>e.anuncios_otimizados=l,onBlur:l=>r(e),class:"form-control form-control-sm"},null,40,$),[[o.Jo,e.anuncios_otimizados,void 0,{number:!0}]])])),"cell(visitas_semana)":(0,a.k6)((({item:e})=>[(0,a.bo)((0,a.Lk)("input",{type:"number","onUpdate:modelValue":l=>e.visitas_semana=l,onBlur:l=>r(e),class:"form-control form-control-sm"},null,40,S),[[o.Jo,e.visitas_semana,void 0,{number:!0}]])])),"cell(produto_mais_visitado)":(0,a.k6)((({item:e})=>[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":l=>e.produto_mais_visitado=l,onBlur:l=>r(e),class:"form-control form-control-sm"},null,40,X),[[o.Jo,e.produto_mais_visitado]])])),"cell(vendas_total)":(0,a.k6)((({item:e})=>[(0,a.bo)((0,a.Lk)("input",{type:"number","onUpdate:modelValue":l=>e.vendas_total=l,onBlur:l=>r(e),class:"form-control form-control-sm"},null,40,z),[[o.Jo,e.vendas_total,void 0,{number:!0}]])])),_:1},8,["items"])):(0,a.Q3)("",!0)]))]))}});const W=U;var N=W;n(1701);const A={class:"calculadora-view"},J={class:"mt-4"},T={class:"d-flex align-items-center justify-content-between"},K={key:0,class:"float-end"},O={class:"d-flex align-items-center justify-content-between"},B={key:0,class:"float-end"};var P=(0,a.pM)({__name:"CalculadoraView",setup(e){const l=(0,t.KR)(""),n=(0,t.KR)(""),o=(0,t.KR)(""),u=(0,a.EW)((()=>{const e=Number(l.value),n=Number(o.value);if(!e||!n)return"";let a=e;2.5===r.value&&a<=10&&(a+=2.5);const t=.22*a,i=a+t,u=n/100*i,s=i+u+3;return s.toFixed(2).replace(".",",")})),s=(0,a.EW)((()=>{const e=Number(l.value),o=Number(n.value);if(!e||!o)return"";let a=e;2.5===r.value&&a<=10&&(a+=2.5);const t=.15*a,i=a+t,u=o/100*i;let s=i+u>=30?8:4.5;const c=i+u+s;return c.toFixed(2).replace(".",",")})),r=(0,t.KR)(0),c=[{item:0,name:"Selecione esse caso não haja taxa"},{item:2.5,name:"Jonh Variedades Drop"}],d=[5,10,15,20,25];function m(e){e&&navigator.clipboard.writeText(e)}function v(e,l,n,o){let a=e;const t=l*a;let i=a+t;return n.map((e=>{const l=e/100*i;let n=i+l;return o&&(n+=o(n)),n.toFixed(2).replace(".",",")}))}const k=(0,a.EW)((()=>{if(!l.value)return[null,null,null,null,null];let e=Number(l.value);return 2.5===r.value&&e<=10&&(e+=2.5),v(e,.22,d,(e=>3))})),b=(0,a.EW)((()=>{if(!l.value)return[null,null,null,null,null];let e=Number(l.value);return 2.5===r.value&&e<=10&&(e+=2.5),v(e,.15,d,(e=>e>=30?8:4.5))}));return(e,v)=>{const p=(0,a.gN)("b-color-mode");return(0,a.uX)(),(0,a.CE)("div",A,[(0,a.bF)((0,t.R1)(i.Yo),{prepend:"R$"},{default:(0,a.k6)((()=>[(0,a.bF)((0,t.R1)(i.bL),{modelValue:l.value,"onUpdate:modelValue":v[0]||(v[0]=e=>l.value=e),type:"number",placeholder:"Valor do produto em R$"},null,8,["modelValue"])])),_:1}),v[20]||(v[20]=(0,a.Lk)("br",null,null,-1)),(0,a.bF)((0,t.R1)(i.JR),{modelValue:r.value,"onUpdate:modelValue":v[1]||(v[1]=e=>r.value=e),options:c,class:"mb-3","value-field":"item","text-field":"name","disabled-field":"notEnabled"},null,8,["modelValue"]),(0,a.Lk)("div",J,[(0,a.bF)((0,t.R1)(i.oU),{deck:""},{default:(0,a.k6)((()=>[(0,a.bo)(((0,a.uX)(),(0,a.Wv)((0,t.R1)(i.vm),{title:"Shopee"},{default:(0,a.k6)((()=>[v[9]||(v[9]=(0,a.Lk)("br",null,null,-1)),v[10]||(v[10]=(0,a.Lk)("strong",null,"Cálculos com lucro em:",-1)),v[11]||(v[11]=(0,a.Lk)("br",null,null,-1)),v[12]||(v[12]=(0,a.Lk)("br",null,null,-1)),(0,a.bF)((0,t.R1)(i.a9),null,{default:(0,a.k6)((()=>[(0,a.bF)((0,t.R1)(i.dR),null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",T,[(0,a.bF)((0,t.R1)(i.bL),{modelValue:o.value,"onUpdate:modelValue":v[2]||(v[2]=e=>o.value=e),type:"number",placeholder:"Porcentagem variante",style:{width:"250px"}},null,8,["modelValue"]),(0,a.eW)(" "+(0,h.v_)(o.value)+"% - R$ "+(0,h.v_)(u.value)+" ",1),u.value?((0,a.uX)(),(0,a.Wv)((0,t.R1)(i.PF),{key:0,size:"sm",class:"mx-1",variant:"outline-secondary",onClick:v[3]||(v[3]=e=>m(String(u.value)))},{default:(0,a.k6)((()=>v[6]||(v[6]=[(0,a.eW)("📋")]))),_:1,__:[6]})):(0,a.Q3)("",!0)])])),_:1}),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(k.value,((e,n)=>((0,a.uX)(),(0,a.Wv)((0,t.R1)(i.dR),{key:"shopee-"+n},{default:(0,a.k6)((()=>[(0,a.eW)((0,h.v_)(d[n])+"% - R$ "+(0,h.v_)(e)+" ",1),l.value?((0,a.uX)(),(0,a.CE)("span",K,[(0,a.bF)((0,t.R1)(i.us),null,{target:(0,a.k6)((()=>[(0,a.bF)((0,t.R1)(i.PF),{size:"sm",class:"mx-1",variant:"outline-secondary",onClick:l=>m(String(e))},{default:(0,a.k6)((()=>v[7]||(v[7]=[(0,a.eW)("📋")]))),_:2,__:[7]},1032,["onClick"])])),default:(0,a.k6)((()=>[v[8]||(v[8]=(0,a.eW)(" Copiar valor "))])),_:2,__:[8]},1024)])):(0,a.Q3)("",!0)])),_:2},1024)))),128))])),_:1})])),_:1,__:[9,10,11,12]})),[[p,"light"]]),(0,a.bo)(((0,a.uX)(),(0,a.Wv)((0,t.R1)(i.vm),{title:"Amazon"},{default:(0,a.k6)((()=>[v[16]||(v[16]=(0,a.Lk)("br",null,null,-1)),v[17]||(v[17]=(0,a.Lk)("strong",null,"Cálculos com lucro em:",-1)),v[18]||(v[18]=(0,a.Lk)("br",null,null,-1)),v[19]||(v[19]=(0,a.Lk)("br",null,null,-1)),(0,a.bF)((0,t.R1)(i.a9),null,{default:(0,a.k6)((()=>[(0,a.bF)((0,t.R1)(i.dR),null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",O,[(0,a.bF)((0,t.R1)(i.bL),{modelValue:n.value,"onUpdate:modelValue":v[4]||(v[4]=e=>n.value=e),type:"number",placeholder:"Porcentagem variante",style:{width:"250px"}},null,8,["modelValue"]),(0,a.eW)(" "+(0,h.v_)(n.value)+"% - R$ "+(0,h.v_)(s.value)+" ",1),s.value?((0,a.uX)(),(0,a.Wv)((0,t.R1)(i.PF),{key:0,size:"sm",class:"mx-1",variant:"outline-secondary",onClick:v[5]||(v[5]=e=>m(String(s.value)))},{default:(0,a.k6)((()=>v[13]||(v[13]=[(0,a.eW)("📋")]))),_:1,__:[13]})):(0,a.Q3)("",!0)])])),_:1}),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(b.value,((e,n)=>((0,a.uX)(),(0,a.Wv)((0,t.R1)(i.dR),{key:"amazon-"+n},{default:(0,a.k6)((()=>[(0,a.eW)((0,h.v_)(d[n])+"% - R$ "+(0,h.v_)(e)+" ",1),l.value?((0,a.uX)(),(0,a.CE)("span",B,[(0,a.bF)((0,t.R1)(i.us),null,{target:(0,a.k6)((()=>[(0,a.bF)((0,t.R1)(i.PF),{size:"sm",class:"mx-1",variant:"outline-secondary",onClick:l=>m(String(e))},{default:(0,a.k6)((()=>v[14]||(v[14]=[(0,a.eW)("📋")]))),_:2,__:[14]},1032,["onClick"])])),default:(0,a.k6)((()=>[v[15]||(v[15]=(0,a.eW)(" Copiar valor "))])),_:2,__:[15]},1024)])):(0,a.Q3)("",!0)])),_:2},1024)))),128))])),_:1})])),_:1,__:[16,17,18,19]})),[[p,"light"]])])),_:1})])])}}});const I=P;var Q=I;const D={class:"mb-2"},M={class:"mb-2"},q={class:"btn btn-success",type:"submit"},H={class:"table table-bordered"},Y=["onClick"],G=["onClick"];var Z=(0,a.pM)({__name:"CadastroCliente",setup(e){const l=(0,t.KR)([]),n=(0,t.KR)({nome:"",telefone:""}),i=(0,t.KR)(!1);async function u(){const e=await C(`${w}/clientes`);l.value=await e.json()}async function s(){n.value.id?await C(`${w}/clientes/${n.value.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n.value)}):await C(`${w}/clientes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n.value)}),v(),await u()}function r(){v(),i.value=!0}function c(e){n.value={...e},i.value=!0}function d(){i.value=!1,v()}async function m(e){confirm("Excluir cliente?")&&(await C(`${w}/clientes/${e}`,{method:"DELETE"}),await u())}function v(){n.value={nome:"",telefone:""}}function k(e){let l=e.target.value.replace(/\D/g,"");l.length>11&&(l=l.slice(0,11)),l=l.length>6?l.replace(/^(\d{2})(\d{5})(\d{0,4}).*/,"($1) $2-$3"):l.length>2?l.replace(/^(\d{2})(\d{0,5})/,"($1) $2"):l.replace(/^(\d*)/,"($1"),e.target.value=l,n.value.telefone=l}return(0,a.sV)(u),(e,t)=>((0,a.uX)(),(0,a.CE)("div",null,[t[5]||(t[5]=(0,a.Lk)("h2",null,"Cadastro de Cliente",-1)),(0,a.Lk)("button",{class:"btn btn-primary mb-3",onClick:r},"Novo +"),i.value?((0,a.uX)(),(0,a.CE)("form",{key:0,onSubmit:(0,o.D$)(s,["prevent"])},[(0,a.Lk)("div",D,[t[2]||(t[2]=(0,a.Lk)("label",null,"Nome:",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.value.nome=e),class:"form-control",required:""},null,512),[[o.Jo,n.value.nome]])]),(0,a.Lk)("div",M,[t[3]||(t[3]=(0,a.Lk)("label",null,"Telefone:",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.value.telefone=e),class:"form-control",onInput:k,maxlength:"15"},null,544),[[o.Jo,n.value.telefone]])]),(0,a.Lk)("button",q,(0,h.v_)(n.value.id?"Atualizar":"Adicionar"),1),(0,a.Lk)("button",{class:"btn btn-secondary ms-2",type:"button",onClick:d},"Cancelar")],32)):(0,a.Q3)("",!0),t[6]||(t[6]=(0,a.Lk)("hr",null,null,-1)),t[7]||(t[7]=(0,a.Lk)("h3",null,"Clientes",-1)),(0,a.Lk)("table",H,[t[4]||(t[4]=(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",null,"Nome"),(0,a.Lk)("th",null,"Telefone"),(0,a.Lk)("th",null,"Ações")])],-1)),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.value,(e=>((0,a.uX)(),(0,a.CE)("tr",{key:e.id},[(0,a.Lk)("td",null,(0,h.v_)(e.nome),1),(0,a.Lk)("td",null,(0,h.v_)(e.telefone),1),(0,a.Lk)("td",null,[(0,a.Lk)("button",{class:"btn btn-primary btn-sm",onClick:l=>c(e)},"Editar",8,Y),(0,a.Lk)("button",{class:"btn btn-danger btn-sm ms-2",onClick:l=>m(e.id)},"Excluir",8,G)])])))),128))])])]))}});const ee=Z;var le=ee;const ne={class:"mb-2"},oe={class:"mb-2"},ae={class:"mb-2"},te=["required"],ie={class:"mb-2"},ue={class:"btn btn-success",type:"submit"},se={class:"table table-bordered"},re=["onClick"],ce=["onClick"];var de=(0,a.pM)({__name:"CadastroFuncionario",setup(e){const l=(0,t.KR)([]),n=(0,t.KR)({nome:"",telefone:""}),i=(0,t.KR)(!1);async function u(){const e=await C(`${w}/funcionarios`);l.value=await e.json()}async function s(){n.value.id?await C(`${w}/funcionarios/${n.value.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n.value)}):await C(`${w}/funcionarios`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n.value)}),d(),await u()}function r(){v(),i.value=!0}function c(e){n.value={...e},i.value=!0}function d(){i.value=!1,v()}async function m(e){confirm("Excluir funcionário?")&&(await C(`${w}/funcionarios/${e}`,{method:"DELETE"}),await u())}function v(){n.value={nome:"",telefone:"",email:"",senha:""}}function k(e){let l=e.target.value.replace(/\D/g,"");l.length>11&&(l=l.slice(0,11)),l=l.length>6?l.replace(/^(\d{2})(\d{5})(\d{0,4}).*/,"($1) $2-$3"):l.length>2?l.replace(/^(\d{2})(\d{0,5})/,"($1) $2"):l.replace(/^(\d*)/,"($1"),e.target.value=l,n.value.telefone=l}return(0,a.sV)(u),(e,t)=>((0,a.uX)(),(0,a.CE)("div",null,[t[9]||(t[9]=(0,a.Lk)("h2",null,"Cadastro de Funcionário",-1)),(0,a.Lk)("button",{class:"btn btn-primary mb-3",onClick:r},"Novo +"),i.value?((0,a.uX)(),(0,a.CE)("form",{key:0,onSubmit:(0,o.D$)(s,["prevent"])},[(0,a.Lk)("div",ne,[t[4]||(t[4]=(0,a.Lk)("label",null,"Nome:",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.value.nome=e),class:"form-control",required:""},null,512),[[o.Jo,n.value.nome]])]),(0,a.Lk)("div",oe,[t[5]||(t[5]=(0,a.Lk)("label",null,"Email:",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.value.email=e),class:"form-control",type:"email",required:""},null,512),[[o.Jo,n.value.email]])]),(0,a.Lk)("div",ae,[t[6]||(t[6]=(0,a.Lk)("label",null,"Senha:",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>n.value.senha=e),class:"form-control",type:"password",required:!n.value.id,autocomplete:"new-password"},null,8,te),[[o.Jo,n.value.senha]])]),(0,a.Lk)("div",ie,[t[7]||(t[7]=(0,a.Lk)("label",null,"Telefone:",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>n.value.telefone=e),class:"form-control",onInput:k,maxlength:"15"},null,544),[[o.Jo,n.value.telefone]])]),(0,a.Lk)("button",ue,(0,h.v_)(n.value.id?"Atualizar":"Adicionar"),1),(0,a.Lk)("button",{class:"btn btn-secondary ms-2",type:"button",onClick:d},"Cancelar")],32)):(0,a.Q3)("",!0),t[10]||(t[10]=(0,a.Lk)("hr",null,null,-1)),t[11]||(t[11]=(0,a.Lk)("h3",null,"Funcionários",-1)),(0,a.Lk)("table",se,[t[8]||(t[8]=(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",null,"Nome"),(0,a.Lk)("th",null,"Email"),(0,a.Lk)("th",null,"Telefone"),(0,a.Lk)("th",null,"Ações")])],-1)),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.value,(e=>((0,a.uX)(),(0,a.CE)("tr",{key:e.id},[(0,a.Lk)("td",null,(0,h.v_)(e.nome),1),(0,a.Lk)("td",null,(0,h.v_)(e.email),1),(0,a.Lk)("td",null,(0,h.v_)(e.telefone),1),(0,a.Lk)("td",null,[(0,a.Lk)("button",{class:"btn btn-primary btn-sm",onClick:l=>c(e)},"Editar",8,re),(0,a.Lk)("button",{class:"btn btn-danger btn-sm ms-2",onClick:l=>m(e.id)},"Excluir",8,ce)])])))),128))])])]))}});const me=de;var ve=me;const ke={class:"mb-2"},be={class:"mb-2"},pe=["value"],fe={class:"mb-2"},_e=["value"],he={class:"mb-2"},Le={class:"mb-2"},ge={class:"mb-2"},ye={class:"mb-2"},we={class:"mb-2"},Ce={class:"mb-2"},Re={class:"btn btn-success",type:"submit"},Ee={class:"table table-bordered"},Ve=["onClick"],je=["onClick"];var Fe=(0,a.pM)({__name:"CadastroLoja",setup(e){const l=(0,t.KR)([]),n=(0,t.KR)([]),i=(0,t.KR)([]),u=(0,t.KR)({nome:"",funcionario_id:0,cliente_id:0,anuncios_total:0,anuncios_realizados:0,anuncios_otimizados:0,visitas_semana:0,produto_mais_visitado:"",vendas_total:0}),s=(0,t.KR)(!1);async function r(){const e=R();let o=`${w}/lojas`;e&&e.id&&0!==e.id&&(o+=`?funcionario_id=${e.id}`);const[a,t,u]=await Promise.all([C(o),C(`${w}/funcionarios`),C(`${w}/clientes`)]);let s=await a.json();e&&e.id&&0!==e.id&&(s=s.filter((l=>l.funcionario_id===e.id))),l.value=s,n.value=await t.json(),i.value=await u.json()}async function c(){u.value.id?await C(`${w}/lojas/${u.value.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(u.value)}):await C(`${w}/lojas`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u.value)}),v(),await r()}function d(){b(),s.value=!0}function m(e){u.value={...e},s.value=!0}function v(){s.value=!1,b()}async function k(e){confirm("Excluir loja?")&&(await C(`${w}/lojas/${e}`,{method:"DELETE"}),await r())}function b(){u.value={nome:"",funcionario_id:0,cliente_id:0,anuncios_total:0,anuncios_realizados:0,anuncios_otimizados:0,visitas_semana:0,produto_mais_visitado:"",vendas_total:0}}return(0,a.sV)(r),(e,t)=>((0,a.uX)(),(0,a.CE)("div",null,[t[21]||(t[21]=(0,a.Lk)("h2",null,"Cadastro de Loja",-1)),(0,a.Lk)("button",{class:"btn btn-primary mb-3",onClick:d},"Novo +"),s.value?((0,a.uX)(),(0,a.CE)("form",{key:0,onSubmit:(0,o.D$)(c,["prevent"])},[(0,a.Lk)("div",ke,[t[9]||(t[9]=(0,a.Lk)("label",null,"Nome da Loja:",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>u.value.nome=e),class:"form-control",required:""},null,512),[[o.Jo,u.value.nome]])]),(0,a.Lk)("div",be,[t[11]||(t[11]=(0,a.Lk)("label",null,"Funcionário:",-1)),(0,a.bo)((0,a.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>u.value.funcionario_id=e),class:"form-control",required:""},[t[10]||(t[10]=(0,a.Lk)("option",{value:"",disabled:""},"Selecione",-1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(n.value,(e=>((0,a.uX)(),(0,a.CE)("option",{key:e.id,value:e.id},(0,h.v_)(e.nome),9,pe)))),128))],512),[[o.u1,u.value.funcionario_id]])]),(0,a.Lk)("div",fe,[t[13]||(t[13]=(0,a.Lk)("label",null,"Cliente:",-1)),(0,a.bo)((0,a.Lk)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>u.value.cliente_id=e),class:"form-control",required:""},[t[12]||(t[12]=(0,a.Lk)("option",{value:"",disabled:""},"Selecione",-1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.value,(e=>((0,a.uX)(),(0,a.CE)("option",{key:e.id,value:e.id},(0,h.v_)(e.nome),9,_e)))),128))],512),[[o.u1,u.value.cliente_id]])]),(0,a.Lk)("div",he,[t[14]||(t[14]=(0,a.Lk)("label",null,"Anúncios Total:",-1)),(0,a.bo)((0,a.Lk)("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=e=>u.value.anuncios_total=e),class:"form-control"},null,512),[[o.Jo,u.value.anuncios_total,void 0,{number:!0}]])]),(0,a.Lk)("div",Le,[t[15]||(t[15]=(0,a.Lk)("label",null,"Anúncios Realizados:",-1)),(0,a.bo)((0,a.Lk)("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=e=>u.value.anuncios_realizados=e),class:"form-control"},null,512),[[o.Jo,u.value.anuncios_realizados,void 0,{number:!0}]])]),(0,a.Lk)("div",ge,[t[16]||(t[16]=(0,a.Lk)("label",null,"Anúncios Otimizados:",-1)),(0,a.bo)((0,a.Lk)("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=e=>u.value.anuncios_otimizados=e),class:"form-control"},null,512),[[o.Jo,u.value.anuncios_otimizados,void 0,{number:!0}]])]),(0,a.Lk)("div",ye,[t[17]||(t[17]=(0,a.Lk)("label",null,"Visitas Semana:",-1)),(0,a.bo)((0,a.Lk)("input",{type:"number","onUpdate:modelValue":t[6]||(t[6]=e=>u.value.visitas_semana=e),class:"form-control"},null,512),[[o.Jo,u.value.visitas_semana,void 0,{number:!0}]])]),(0,a.Lk)("div",we,[t[18]||(t[18]=(0,a.Lk)("label",null,"Produto Mais Visitado:",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>u.value.produto_mais_visitado=e),class:"form-control"},null,512),[[o.Jo,u.value.produto_mais_visitado]])]),(0,a.Lk)("div",Ce,[t[19]||(t[19]=(0,a.Lk)("label",null,"Vendas Total:",-1)),(0,a.bo)((0,a.Lk)("input",{type:"number","onUpdate:modelValue":t[8]||(t[8]=e=>u.value.vendas_total=e),class:"form-control"},null,512),[[o.Jo,u.value.vendas_total,void 0,{number:!0}]])]),(0,a.Lk)("button",Re,(0,h.v_)(u.value.id?"Atualizar":"Adicionar"),1),(0,a.Lk)("button",{class:"btn btn-secondary ms-2",type:"button",onClick:v},"Cancelar")],32)):(0,a.Q3)("",!0),t[22]||(t[22]=(0,a.Lk)("hr",null,null,-1)),t[23]||(t[23]=(0,a.Lk)("h3",null,"Lojas",-1)),(0,a.Lk)("table",Ee,[t[20]||(t[20]=(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",null,"Nome"),(0,a.Lk)("th",null,"Funcionário"),(0,a.Lk)("th",null,"Cliente"),(0,a.Lk)("th",null,"Anúncios Total"),(0,a.Lk)("th",null,"Anúncios Realizados"),(0,a.Lk)("th",null,"Anúncios Otimizados"),(0,a.Lk)("th",null,"Visitas Semana"),(0,a.Lk)("th",null,"Produto Mais Visitado"),(0,a.Lk)("th",null,"Vendas Total"),(0,a.Lk)("th",null,"Ações")])],-1)),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.value,(e=>((0,a.uX)(),(0,a.CE)("tr",{key:e.id},[(0,a.Lk)("td",null,(0,h.v_)(e.nome),1),(0,a.Lk)("td",null,(0,h.v_)(e.funcionario_nome),1),(0,a.Lk)("td",null,(0,h.v_)(e.cliente_nome),1),(0,a.Lk)("td",null,(0,h.v_)(e.anuncios_total),1),(0,a.Lk)("td",null,(0,h.v_)(e.anuncios_realizados),1),(0,a.Lk)("td",null,(0,h.v_)(e.anuncios_otimizados),1),(0,a.Lk)("td",null,(0,h.v_)(e.visitas_semana),1),(0,a.Lk)("td",null,(0,h.v_)(e.produto_mais_visitado),1),(0,a.Lk)("td",null,(0,h.v_)(e.vendas_total),1),(0,a.Lk)("td",null,[(0,a.Lk)("button",{class:"btn btn-primary btn-sm",onClick:l=>m(e)},"Editar",8,Ve),(0,a.Lk)("button",{class:"btn btn-danger btn-sm ms-2",onClick:l=>k(e.id)},"Excluir",8,je)])])))),128))])])]))}});const xe=Fe;var $e=xe,Se=n.p+"img/logoSis.33d69de2.png";const Xe={class:"login-view d-flex align-items-stretch min-vh-100",style:{background:"#23272b"}},ze={class:"login-image d-flex align-items-center justify-content-center",style:{flex:"1",background:"#181a1b"}},Ue={key:0,src:Se,alt:"Logo do sistema",style:{width:"100%",height:"660px","object-fit":"cover","object-position":"center"}},We={key:1,src:Se,alt:"Logo do sistema",style:{width:"200px",height:"300px","object-fit":"cover","object-position":"center"}},Ne={class:"login-form d-flex align-items-center justify-content-center",style:{flex:"1"}},Ae={class:"w-100",style:{"max-width":"350px"}},Je={class:"mb-3"},Te={class:"mb-3"},Ke={class:"d-grid gap-2"};var Oe=(0,a.pM)({__name:"LoginView",setup(e){const l=(0,t.KR)(""),n=(0,t.KR)(""),u=(0,t.KR)(!1);function s(){u.value=window.innerWidth<=900}(0,a.sV)((()=>{s(),window.addEventListener("resize",s)}));const r=async()=>{if("admin@email.com"===l.value&&"admin"===n.value)return localStorage.setItem("token","homolog-token"),localStorage.setItem("user",JSON.stringify({id:0,nome:"Admin",email:"admin@email.com"})),void De.push("/relatorio");try{const e=await fetch(`${w}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l.value,senha:n.value})});if(!e.ok)return void alert("Login inválido");const o=await e.json();localStorage.setItem("token",o.token),localStorage.setItem("user",JSON.stringify(o.user)),De.push("/relatorio")}catch(e){alert("Erro ao fazer login"),console.error(e)}},c=()=>{De.push("/calculadora-deslogada")};return(e,s)=>((0,a.uX)(),(0,a.CE)("div",Xe,[(0,a.Lk)("div",ze,[u.value?((0,a.uX)(),(0,a.CE)("img",We)):((0,a.uX)(),(0,a.CE)("img",Ue))]),(0,a.Lk)("div",Ne,[(0,a.Lk)("div",Ae,[s[6]||(s[6]=(0,a.Lk)("h3",{class:"mb-4 text-center text-white"},"Realize seu login",-1)),(0,a.Lk)("form",{onSubmit:(0,o.D$)(r,["prevent"])},[(0,a.Lk)("div",Je,[s[2]||(s[2]=(0,a.Lk)("label",{for:"email",class:"form-label text-white"},"Email",-1)),(0,a.bF)((0,t.R1)(i.bL),{type:"email",id:"email",modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=e=>l.value=e),state:null,required:"",placeholder:"Email"},null,8,["modelValue"])]),(0,a.Lk)("div",Te,[s[3]||(s[3]=(0,a.Lk)("label",{for:"password",class:"form-label text-white"},"Senha",-1)),(0,a.bF)((0,t.R1)(i.bL),{modelValue:n.value,"onUpdate:modelValue":s[1]||(s[1]=e=>n.value=e),id:"password",type:"password",state:null,required:"",placeholder:"Senha"},null,8,["modelValue"])]),(0,a.Lk)("div",Ke,[(0,a.bF)((0,t.R1)(i.PF),{type:"submit",variant:"success",class:"w-100"},{default:(0,a.k6)((()=>s[4]||(s[4]=[(0,a.eW)("Login")]))),_:1,__:[4]}),(0,a.bF)((0,t.R1)(i.PF),{onClick:c,class:"w-100",variant:"info"},{default:(0,a.k6)((()=>s[5]||(s[5]=[(0,a.eW)("Acessar Calculadora")]))),_:1,__:[5]})])],32)])])]))}});const Be=Oe;var Pe=Be;const Ie=[{path:"/",redirect:"/login",name:"login"},{path:"/login",name:"login",component:Pe},{path:"/relatorio",name:"relatorio",component:N},{path:"/calculadora",name:"calculadora",component:Q},{path:"/calculadora-deslogada",name:"calculadoraDeslogada",component:Q},{path:"/cadastro-cliente",name:"cadastro-cliente",component:le},{path:"/cadastro-funcionario",name:"cadastro-funcionario",component:ve},{path:"/cadastro-loja",name:"cadastro-loja",component:$e}],Qe=(0,c.aE)({history:(0,c.Bt)("/gerenciamento-lojas-calculadora-precos/"),routes:Ie});Qe.beforeEach(((e,l,n)=>{const o=localStorage.getItem("token"),a=["login","calculadoraDeslogada"];a.includes(e.name)||o?n():n({name:"login"})}));var De=Qe,Me=n(782),qe=(0,Me.y$)({state:{},getters:{},mutations:{},actions:{},modules:{}});(0,o.Ef)(f).use(qe).use(De).mount("#app")}},l={};function n(o){var a=l[o];if(void 0!==a)return a.exports;var t=l[o]={exports:{}};return e[o].call(t.exports,t,t.exports,n),t.exports}n.m=e,function(){var e=[];n.O=function(l,o,a,t){if(!o){var i=1/0;for(c=0;c<e.length;c++){o=e[c][0],a=e[c][1],t=e[c][2];for(var u=!0,s=0;s<o.length;s++)(!1&t||i>=t)&&Object.keys(n.O).every((function(e){return n.O[e](o[s])}))?o.splice(s--,1):(u=!1,t<i&&(i=t));if(u){e.splice(c--,1);var r=a();void 0!==r&&(l=r)}}return l}t=t||0;for(var c=e.length;c>0&&e[c-1][2]>t;c--)e[c]=e[c-1];e[c]=[o,a,t]}}(),function(){n.n=function(e){var l=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(l,{a:l}),l}}(),function(){n.d=function(e,l){for(var o in l)n.o(l,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:l[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)}}(),function(){n.p="/gerenciamento-lojas-calculadora-precos/"}(),function(){var e={524:0};n.O.j=function(l){return 0===e[l]};var l=function(l,o){var a,t,i=o[0],u=o[1],s=o[2],r=0;if(i.some((function(l){return 0!==e[l]}))){for(a in u)n.o(u,a)&&(n.m[a]=u[a]);if(s)var c=s(n)}for(l&&l(o);r<i.length;r++)t=i[r],n.o(e,t)&&e[t]&&e[t][0](),e[t]=0;return n.O(c)},o=self["webpackChunkgerenciamento_lojas_calculadora_precos"]=self["webpackChunkgerenciamento_lojas_calculadora_precos"]||[];o.forEach(l.bind(null,0)),o.push=l.bind(null,o.push.bind(o))}();var o=n.O(void 0,[504],(function(){return n(5672)}));o=n.O(o)})();
//# sourceMappingURL=app.33fd3a21.js.map